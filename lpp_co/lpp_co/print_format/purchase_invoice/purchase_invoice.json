{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-03-21 14:25:57.227139",
 "css": "body {\n    padding: 3mm 0 3mm !important;\n}\n.print-format {\n    line-height: 1.5;\n    margin-left: 5mm;\n    margin-right: 5mm;\n    font-family: \"NotoSansThaiLooped\";\n}\n.print-format, .print-format td, .print-format th {\n    font-size: 12px !important;\n    color: #000000 !important;\n    padding-top: 2px !important;\n    padding-bottom: 2px !important;\n}\n.print-format-preview{\n    padding: 5mm;\n}\n.logo {\n    margin-top: 10px;\n    width: 100px;\n}\n.title {\n    font-size: 18px;\n    font-family: \"NotoSansThai\";\n}\n.title-sale-invoice {\n    font-size: 26px !important;\n    padding-top: 30px;\n    padding-left: 0px;\n}\ntable {\n    width: 100%;\n}\n.table-head {\n    border-top: 1px solid #6D6E71;\n    border-bottom: 1px solid #6D6E71;\n}\n.line-break {\n    border-top: 1px solid #6D6E71;\n}\n.col-1, .col-4, .col-5 {\n    width: 15%;\n}\n.col-2 {\n    width: 25%;\n}\n.col-3 {\n    width: 30%;\n}\n.col-foot-1 {\n    width: 55%;\n}\n.col-foot-2 {\n    width: 20%;\n}\n.col-foot-3 {\n    width: 25%;\n}\n.page-break-inside {\n    page-break-inside: avoid;\n}\n.add-border{\n    border: 1px solid black !important;\n}\n.color-thin{\n    color: #6D6E71;\n}",
 "custom_format": 1,
 "default_condition": "True",
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "hide_if_not_default": 0,
 "html": "<!-- Load Fonts -->\n{{ frappe.render_template(\"templates/jinja_lpp_fonts.html\") }}\n\n<!-- Get value from doctype -->\n{% set company = frappe.db.get_value(\n    \"Company\",\n    {\"name\": doc.company},\n    [\"company_logo\", \"custom_company_name_th\", \"custom_company_name_en\", \"custom_address_en\"],\n    as_dict=True) %}\n{% set supplier = frappe.db.get_value(\n    \"Supplier\",\n    {\"name\": doc.supplier},\n    [\"supplier_name\", \"tax_id\", \"branch_code\"],\n    as_dict=True) %}\n{% set links = frappe.get_all(\n    \"Dynamic Link\",\n    filters={\"link_doctype\": \"Supplier\", \"link_name\": doc.supplier, \"parenttype\": \"Address\"},\n    fields=[\"parent\"]\n    ) %}\n{% set supplier_address = frappe.db.get_value(\n    \"Address\",\n    {\"name\": links[0].parent},\n    [\"address_line1\", \"address_line2\", \"city\", \"county\", \"state\", \"pincode\"],\n    as_dict=True) %}\n{% set gl_dr_lines = frappe.get_list(\"GL Entry\", \n    filters={\"voucher_no\": doc.name, \"voucher_type\": \"Purchase Invoice\", \"debit\": (\"!=\", 0)}, \n    fields=[\"account\", \"debit\", \"credit\", \"cost_center\"],\n    order_by=\"account asc\") %}\n{% set gl_cr_lines = frappe.get_list(\"GL Entry\", \n    filters={\"voucher_no\": doc.name, \"voucher_type\": \"Purchase Invoice\", \"credit\": (\"!=\", 0)}, \n    fields=[\"account\", \"debit\", \"credit\", \"cost_center\"],\n    order_by=\"account asc\") %}\n{% set gl_lines = gl_dr_lines + gl_cr_lines %}\n\n<div id=\"header-html\" class=\"hidden-pdf\">\n    <div class=\"row section-break\">\n        <div class=\"col-xs-2\">\n            <img class=\"logo\" src=\"{{ company.company_logo }}\" alt=\"Logo\">\n        </div>\n        <div class=\"col-xs-8\">\n            <strong class=\"title\">\n                {{ company.custom_company_name_en }}<br>\n                {{ company.custom_company_name_th }}\n            </strong>\n        </div>\n        <div class=\"col-xs-2 text-right\">\n            <span class=\"color-thin\">Page</span> {{ _(\"{0}/{1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </div>\n    </div>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-6\">\n            {{ company.custom_address_en or \"-\" }}<br>\n        </div>\n        <div class=\"col-xs-6 title title-sale-invoice text-right\">\n            <strong>\n                \u0e43\u0e1a\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e2d\u0e0b\u0e37\u0e49\u0e2d<br>\n                Purchase Record\n            </strong>\n        </div>\n    </div>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-6\">\n            <div class=\"row section-break\">\n                <div class=\"col-xs-5\">\n                    <strong>\u0e1c\u0e39\u0e49\u0e08\u0e33\u0e2b\u0e19\u0e48\u0e32\u0e22<br>Supplier</strong>\n                </div>\n                <div class=\"col-xs-7\">\n                    {{ supplier.supplier_name }}\n                </div>\n            </div>\n            <br>\n            <div class=\"row section-break\">\n                <div class=\"col-xs-5\">\n                    <strong>\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48<br>Address</strong>\n                </div>\n                <div class=\"col-xs-7\">\n                    {% if supplier_address %}\n                            {{ supplier_address.address_line1 or \"\" }}\n                            {{ supplier_address.address_line2 or \"\" }}\n                            {{ supplier_address.city or \"\" }}\n                            {{ supplier_address.county or \"\" }}\n                            {{ supplier_address.state or \"\" }}\n                            {{ supplier_address.pincode or \"\" }}\n                        {% else %}\n                            -\n                        {% endif %}\n                </div>\n            </div>\n            <br>\n            <div class=\"row section-break\">\n                <div class=\"col-xs-6\">\n                    <strong>\u0e40\u0e25\u0e02\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e15\u0e31\u0e27\u0e1c\u0e39\u0e49\u0e40\u0e2a\u0e35\u0e22\u0e20\u0e32\u0e29\u0e35<br>Tax ID</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier.tax_id or \"-\" }}\n                </div>\n                <div class=\"col-xs-6\">\n                    <div class=\"row section-break\">\n                        <div class=\"col-xs-4\">\n                            <strong>\u0e2a\u0e32\u0e02\u0e32<br>Branch</strong>  \n                        </div>\n                        <div class=\"col-xs-8\">\n                            {% if supplier.branch_code == \"00000\" or not supplier.branch_code %}\n                                \u0e2a\u0e33\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19\u0e43\u0e2b\u0e0d\u0e48\n                            {% else %}\n                                {{ supplier.branch_code or \"-\" }}\n                            {% endif %}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-xs-6\">\n            <div class=\"row section-break\">\n                <div class=\"col-xs-7\">\n                    <span class=\"color-thin\">\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23/ Document No.</span>\n                </div>\n                <div class=\"col-xs-5\">\n                    {{ doc.name or \"-\" }}\n                </div>\n            </div>\n            <div class=\"row section-break\">\n                <div class=\"col-xs-7\">\n                    <span class=\"color-thin\">\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23/ Document Date</span>\n                </div>\n                <div class=\"col-xs-5\">\n                    {{ doc.posting_date and frappe.utils.getdate(doc.posting_date).strftime(\"%d/%m/%Y\") or \"-\" }}\n                </div>\n            </div>\n            <br>\n            <div class=\"row section-break\">\n                <div class=\"col-xs-7\">\n                    <strong>\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07<br>Reference Document No.</strong>\n                </div>\n                <div class=\"col-xs-5\">\n                    {% set purchase_receipts = doc.items | map(attribute=\"purchase_receipt\") | select | list %}\n                    {{ purchase_receipts and purchase_receipts[0] or \"-\" }}\n                </div>\n            </div>\n            <br>\n            <div class=\"row section-break\">\n                <div class=\"col-xs-7\">\n                    <strong>\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07<br>Reference Document Date</strong>\n                </div>\n                <div class=\"col-xs-5\">\n                    {% if purchase_receipts %}\n                        {% set reference_date = frappe.db.get_value(\n                            \"Purchase Receipt\",\n                            {\"name\": purchase_receipts[0]},\n                            \"posting_date\") %}\n                        {{ reference_date and frappe.utils.getdate(reference_date).strftime(\"%d/%m/%Y\") or \"-\" }}\n                    {% else %}\n                        -\n                    {% endif %}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<table>\n    <thead>\n        <tr>\n            <th class=\"table-head col-1\" style=\"border-left: 1px solid #6D6E71;\"><strong>\u0e23\u0e2b\u0e31\u0e2a\u0e1a\u0e31\u0e0d\u0e0a\u0e35<br>Account Code</strong></th>\n            <th class=\"table-head col-1\"><strong>\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e31\u0e0d\u0e0a\u0e35<br/>Account Name</strong></th>\n            <th class=\"table-head col-2\"><strong>\u0e41\u0e1c\u0e19\u0e01<br>Department</strong></th>\n            <th class=\"table-head text-right col-1\"><strong>\u0e40\u0e14\u0e1a\u0e34\u0e15<br>Debit</strong></th>\n            <th class=\"table-head text-right col-1\"><strong>\u0e40\u0e04\u0e23\u0e14\u0e34\u0e15<br>Credit</strong></th>\n            <th class=\"table-head text-center col-1\" style=\"border-right: 1px solid #6D6E71;\"><strong>\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38<br>Remark</strong></th>\n        </tr>\n    </thead>\n    <tbody>\n        {% set max_rows = [gl_lines|length, doc.items|length] | max %}\n        {% for i in range(max_rows) %}\n            <tr>\n                {% set line = gl_lines[i] if i < gl_lines|length else None %}\n                {% set item = doc.items[i] if i < doc.items|length else None %}\n\n                {% if line %}\n                    {% set account = frappe.db.get_value(\n                        \"Account\",\n                        {\"name\": line.account},\n                        [\"account_name\", \"account_number\"],\n                        as_dict=True) %}\n                    <td>{{ account.account_number or \"-\" }}</td>\n                    <td>{{ account.account_name or \"-\" }}</td>\n                    <td>{{ line.cost_center or \"-\" }}</td>\n                    <td class=\"text-right\">\n                        {{ \"{:,.2f}\".format(line.debit) if line.debit != 0 else \"-\" }}\n                    </td>\n                    <td class=\"text-right\">\n                        {{ \"{:,.2f}\".format(line.credit) if line.credit != 0 else \"-\" }}\n                    </td>\n                {% else %}\n                    <td>-</td>\n                    <td>-</td>\n                    <td>-</td>\n                    <td class=\"text-right\">-</td>\n                    <td class=\"text-right\">-</td>\n                {% endif %}\n                {% if item %}\n                    <td class=\"text-center\">\n                        {{ item.description or \"-\" }}\n                    </td>\n                {% else %}\n                    <td>-</td>\n                {% endif %}\n            </tr>\n        {% endfor %}\n    </tbody>\n</table>\n<div id=\"footer-html\" class=\"visible-pdf\">\n<table class=\"page-break-inside\">\n        <tr>\n            <td class=\"col-foot-1 text-right\" style=\"padding-top: 0px !important;\">\n                <strong>\u0e22\u0e2d\u0e14\u0e23\u0e27\u0e21/Total</strong>\n            </td>\n            <td class=\"col-foot-2 text-center\" style=\"padding-top: 0px !important;\">\n                <strong>{{ \"{:,.2f}\".format(gl_lines | sum(attribute=\"debit\")) }}</strong>\n            </td>\n            <td class=\"col-foot-3 text-left\" style=\"padding-top: 0px !important;\">\n                <strong>{{ \"{:,.2f}\".format(gl_lines | sum(attribute=\"credit\")) }}</strong>\n            </td>\n        </tr>\n    </table>  \n    <p class=\"line-break\"></p>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-2\">\n            <p>Remark</p>\n        </div>\n        <div class=\"col-xs-10\">\n            {{ doc.remarks or \"-\" }}\n        </div>\n    </div>\n    <br>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-3 text-center\" style=\"height: 100px;\">\n            <br><br>\n            <div style=\"border-top: 1px solid;\"></div>\n            \u0e1c\u0e39\u0e49\u0e25\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35 / Bookkeeper\n            <br><br>\n            \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48  _______/_______/_______\n        </div>\n        <div class=\"col-xs-3 text-center\" style=\"height: 100px;\">\n            <br><br>\n            <div style=\"border-top: 1px solid;\"></div>\n            \u0e1c\u0e39\u0e49\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a / Reviewer\n            <br><br>\n            \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48  _______/_______/_______\n        </div>\n        <div class=\"col-xs-3 text-center\" style=\"height: 100px;\">\n            <br><br>\n            <div style=\"border-top: 1px solid;\"></div>\n            \u0e1c\u0e39\u0e49\u0e2d\u0e19\u0e38\u0e21\u0e31\u0e15\u0e34 / Approver\n            <br><br>\n            \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 ________/_______/_______\n        </div>\n        <div class=\"col-xs-3 text-center\" style=\"height: 100px;\">\n            <br><br>\n            <div style=\"border-top: 1px solid;\"></div>\n            \u0e1c\u0e39\u0e49\u0e08\u0e48\u0e32\u0e22\u0e40\u0e07\u0e34\u0e19 / Payer\n            <br><br>\n            \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48  _______/_______/_______\n        </div>\n    </div>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-03-29 00:05:20.162195",
 "modified_by": "Administrator",
 "module": "LPP Co",
 "name": "Purchase Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}