{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-01-13 18:22:22.078314",
 "css": ".print-format {\n    line-height: 3;\n    margin-top: 5mm;\n    margin-left: 4mm;\n    margin-right: 4mm;\n    margin-bottom: 5mm;\n    font-family: \"NotoSansThaiLooped\";\n    font-size: 14px;\n}\n.company {\n    line-height: 1.7 !important;\n    font-family: \"NotoSansThai\";\n    font-size: 15px;\n}\n.line-break {\n    border-bottom: 1px dashed #333;\n}",
 "custom_format": 1,
 "default_condition": "True",
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Job Card",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "hide_if_not_default": 0,
 "html": "<!-- Load Fonts -->\n{{ frappe.render_template(\"templates/jinja_lpp_fonts.html\") }}\n\n<!-- Get value from doctype -->\n{% set company = frappe.db.get_value(\n    \"Company\",\n    {\"name\": doc.company},\n    [\"company_logo\", \"custom_company_name_th\", \"custom_company_name_en\"],\n    as_dict=True) %}\n{% set work_order = frappe.db.get_value(\n    \"Work Order\",\n    {\"name\": doc.work_order},\n    [\"custom_customer\", \"custom_customer_name\"],\n    as_dict=True) %}\n{% set batchs = set(frappe.db.get_all(\n    \"Batch\",\n    {\"reference_doctype\": \"Work Order\", \"reference_name\": doc.work_order},\n    pluck=\"name\")) | reject(\"none\") | list %}\n{% set materials = set(frappe.db.get_all(\n    \"Item Customer Detail\",\n    {\"parenttype\": \"Item\", \"parentfield\": \"customer_items\", \"parent\": doc.production_item, \"customer_name\": work_order.custom_customer},\n    pluck=\"custom_material\")) | reject(\"none\") | list %}\n{% set build_sheets = set(frappe.db.get_all(\n    \"Item Customer Detail\",\n    {\"parenttype\": \"Item\", \"parentfield\": \"customer_items\", \"parent\": doc.production_item, \"customer_name\": work_order.custom_customer},\n    pluck=\"custom_drawing_build_sheet_no\")) | reject(\"none\") | list %}\n\n<head>\n    <meta name=\"pdfkit-page-width\" content=\"4in\"/>\n    <meta name=\"pdfkit-page-height\" content=\"14in\"/>\n</head>\n<div class=\"row section-break\">\n    <div class=\"col-xs-3\">\n        <img class=\"logo\" src=\"{{ company.company_logo }}\" alt=\"Logo\">\n    </div>\n    <div class=\"col-xs-9 company\">\n        <strong>\n            {{ company.custom_company_name_en }}<br>\n            {{ company.custom_company_name_th }}\n        </strong>\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-12 text-center\">\n        <h1>{{ doc.operation or \"-\" }}</h1>\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Job Card ID.</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ doc.name or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Job Card No.</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {% if doc.custom_run_card %}\n            {% set parts = doc.custom_run_card.split(\"/\") %}\n            {{ parts[0]|int }}/{{ parts[1]|int }}\n        {% else %}\n            -\n        {% endif %}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Job Card Date</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ doc.posting_date and frappe.utils.getdate(doc.posting_date).strftime(\"%d/%m/%Y\") or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Sequence</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ doc.custom_sequence or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-8\">\n        <strong>Quantity on This Job Card</strong>\n    </div>\n    <div class=\"col-xs-4 text-right\">\n        {{ \"{:,.0f}\".format(doc.for_quantity) if doc.for_quantity - doc.for_quantity | int == 0 else  \"{:,.2f}\".format(doc.for_quantity) }}\n    </div>\n</div>\n<p class=\"line-break\"></p>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Work Order No.</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ doc.work_order or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-4\">\n        <strong>Batch No.</strong>\n    </div>\n    <div class=\"col-xs-8 text-right\">\n        {{ batchs and batchs | join(\", \") or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Customer</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ work_order.custom_customer_name or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-4\">\n        <strong>Item Name</strong>\n    </div>\n    <div class=\"col-xs-8 text-right\">\n        {{ doc.item_name or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Material</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ materials and materials | join(\", \") or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Build Sheet No.</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ build_sheets and build_sheets | join(\", \") or \"-\" }}\n    </div>\n</div>\n<p class=\"line-break\"></p>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Workstation</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ doc.workstation or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Operator</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ doc.operator or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Shift</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ doc.shift or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-6\">\n        <strong>Start Date & Time</strong>\n    </div>\n    <div class=\"col-xs-6 text-right\">\n        {{ doc.from_time and frappe.utils.get_datetime(doc.from_time).strftime(\"%d/%m/%Y %H:%M:%S\") or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>End Date & Time</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ doc.to_time and frappe.utils.get_datetime(doc.to_time).strftime(\"%d/%m/%Y %H:%M:%S\") or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Input</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ \"{:,.0f}\".format(doc.input) if doc.input - doc.input | int == 0 else  \"{:,.2f}\".format(doc.input) }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Output</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ \"{:,.0f}\".format(doc.output) if doc.output - doc.output | int == 0 else  \"{:,.2f}\".format(doc.output) }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Scrap</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ \"{:,.0f}\".format(doc.defect) if doc.defect - doc.defect | int == 0 else  \"{:,.2f}\".format(doc.defect) }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Yield</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ \"{:,.0f}\".format(doc.percent_yield) if doc.percent_yield - doc.percent_yield | int == 0 else  \"{:,.2f}\".format(doc.percent_yield) }} %\n    </div>\n</div>\n{% if doc.job_card_defect and doc.job_card_defect | length > 0 %}\n    <p class=\"line-break\"></p>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-12\">\n            <strong>Defects</strong>\n        </div>\n    </div>\n    {% for item in doc.job_card_defect %}\n        <div class=\"row section-break\">\n            <div class=\"col-xs-6\">\n                {{ item.defect or \"-\" }}\n            </div>\n            <div class=\"col-xs-6 text-right\">\n                {{ \"{:,.0f}\".format(item.qty) if item.qty - item.qty | int == 0 else  \"{:,.2f}\".format(item.qty) }}\n            </div>\n        </div>\n    {% endfor %}\n{% endif %}\n<p class=\"line-break\"></p>\n<div class=\"row section-break\">\n    <div class=\"col-xs-2\">\n        <strong>Status</strong>\n    </div>\n    <div class=\"col-xs-10 text-right\">\n        {{ doc.status or \"-\" }}\n    </div>\n</div>\n<div class=\"row section-break\">\n    <div class=\"col-xs-5\">\n        <strong>Next Operation</strong>\n    </div>\n    <div class=\"col-xs-7 text-right\">\n        {{ doc.next_operation or \"-\" }}\n    </div>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-03-19 12:49:10.494844",
 "modified_by": "Administrator",
 "module": "LPP Co",
 "name": "RunCard",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}